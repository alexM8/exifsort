SortPhoto
==============

**Скрипт не затирает ни одной фотографии. Только перемещает фотки**

Суть работы скрипта заключается в построчном сканировании файлов:
--------------
- Если найден файл JPG, для него считывается exif-данные и создается папка в originals, имя которой соответствует времени чч-мм-сс фотографии. Также, этот файл копируется в previews.
- Если следующий файл тоже JPG, он перемещается в папку, созданную в предыдущем шаге
- Если найден файл NEF, скрипт перемещает его в nefs.
- Для следующего считаного JPG считываются exif-данные и создается папка в originals, имя которой соответствует времени чч-мм-сс фотографии. Также, этот файл копируется в previews.
- Если следующий файл тоже JPG, он перемещается в папку, созданную в предыдущем шаге.
- И так далее, пока не закончатся файлы в tmp
- Удаляются все жесткие ссылки на фото в папке slides, созданные при предыдущем запуске этого скрипта.
- Создаются новые жесткие ссылки на фотки из последних 10 папок в originals
- Используется утилита convert для изменения размера на 1024x768. Это очень долгий процесс. Будет дан запрос пользователю.

Структура папок:
--------------
- tmp/           временная папка, откуда поступают фотографии
- originals/     сюда перемещаются фотографии после обработки их exif-данных
- nefs/          сюда перемещаются nef-файлы, которые являются основой для сортировки
- previews/      сода помещаются по одной фотографии с каждого раздела
- resizes/       здесь хранятся фотографии с меньшим размером, чем оригиналы. Структура папок та же, что и в оригинальных. Небоходимо для галереи piwigo
- slides/        папка, в которой создаются жесткие ссылки на фото из последних 10 папок в originals. Отсюдова будут братся фотки для слайдшоу
- .sorted        файл, в котором записуются результаты копирования при одной отработке скрипта, Нужно для того, чтобы потом конвертер знал, какие фотки ему нужно конвертировать
- .fail          файл, который создается, если exif не смог достать из фотки exif-данные. В таком случае, работа скрипта прекращается

